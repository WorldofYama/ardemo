
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AR.js Multi Markers (Local JS)</title>

  <!-- ローカル参照（ファイル名は環境に合わせて変更可） -->
  <script src="./vendor/aframe-v1.7.1.min.js"></script>
  <script src="./vendor/aframe-ar.js"></script>




  <style>
    html,body { margin:0; padding:0; height:100%; overflow:hidden; }
    .hint { position:fixed; left:8px; bottom:8px; background:#0008; color:#fff;
            padding:8px 10px; border-radius:6px; font-size:14px; }
  </style>
</head>
<body>
  <a-scene
    embedded
    arjs="sourceType: webcam; debugUIEnabled: false;"
    vr-mode-ui="enabled: false"
    renderer="logarithmicDepthBuffer: true"
  >
    <!-- ライティング（見やすさ用） -->
    <a-entity light="type: ambient; color: #BBB"></a-entity>
    <a-entity light="type: directional; intensity: 0.9" position="1 2 1"></a-entity>

    <!-- =========================
         1) arrow.patt ：矢印
         ・Z軸に垂直（XY平面に寝かせる）
         ・Z方向 +0.15m、X方向 +0.15m オフセット
       ========================= -->
    <a-marker type="pattern" url="./assets/arrow.patt">
      <!-- まとめてオフセット：x=0.15, y=0, z=0.15 -->
      <a-entity position="0.15 0 0.15">
        <!-- 矢印の軸(Y)をZ軸に対して垂直にする＝XY平面に寝かせる。
             ここでは +X 方向へ向けるため Z回りに +90°。向きが逆なら -90°に。 -->
        <a-entity rotation="0 0 90">
          <!-- シャフト（円柱） -->
          <a-cylinder position="0 0.35 0" radius="0.08" height="0.7" color="#1E90FF"></a-cylinder>
          <!-- ヘッド（円錐） -->
          <a-cone position="0 0.9 0" radius-bottom="0.18" height="0.36" color="#1E90FF"></a-cone>
        </a-entity>
        <a-text value="Arrow" position="-0.6 0.05 0" rotation="-90 0 0" color="#FFF"></a-text>
      </a-entity>
    </a-marker>

    <!-- =========================
         2) cube.patt ：半透明キューブ 3つ（重ならない配置）＋ラベル A/B/C
         ・色とサイズを変え、A の置場／B の置場／C の置場を示すレイアウト
       ========================= -->
    <a-marker type="pattern" url="./assets/cube.patt">
      <!-- ベースを少し前＆右へ：x=0.15, z=0.15 -->
      <a-entity position="0.15 0 0.15">
        <!-- Cube A（やや大きめ・黄色系） -->
        <a-box position="-0.50 0.50 0.10" width="0.90" height="0.90" depth="0.90"
               material="color:#FFD84A; opacity:0.55; transparent:true; roughness:0.8"></a-box>
        <a-text value="A" position="-0.50 1.08 0.10" rotation="-90 0 0" color="#222" width="1.6"></a-text>

        <!-- Cube B（中サイズ・緑系） -->
        <a-box position="0.10 0.40 0.50" width="0.80" height="0.80" depth="0.80"
               material="color:#33CC66; opacity:0.50; transparent:true; roughness:0.8"></a-box>
        <a-text value="B" position="0.10 0.95 0.50" rotation="-90 0 0" color="#222" width="1.6"></a-text>

        <!-- Cube C（小さめ・青系） -->
        <a-box position="0.70 0.30 -0.30" width="0.65" height="0.65" depth="0.65"
               material="color:#4A6BFF; opacity:0.45; transparent:true; roughness:0.8"></a-box>
        <a-text value="C" position="0.70 0.78 -0.30" rotation="-90 0 0" color="#222" width="1.6"></a-text>
      </a-entity>
    </a-marker>

    <!-- =========================
         3) warning.patt ：警告（三角＋黒「！」）
         ・黄色半透明の三角形に厚み（立体）
         ・黒「！」は半透明で内部に配置
         ・外周に薄い縁（ワイヤーフレーム）を追加
       ========================= -->
    <a-marker type="pattern" url="./assets/warning.patt">
      <!-- ベース位置：x=0.15, z=0.15 -->
      <a-entity position="0.15 0 0.15">
        <!-- 三角の立体：tetrahedron を厚み感が出るようにスケール調整 -->
        <a-entity position="0 0.55 0" scale="1.05 1.25 0.65">
          <!-- 本体（黄色半透明） -->
          <a-entity geometry="primitive: tetrahedron; radius: 0.70"
                    material="color:#FFCC00; opacity:0.55; transparent:true; roughness:0.9; metalness:0.05">
          </a-entity>
          <!-- ふち（枠っぽさ）：少し大きいワイヤーフレームを重ねる -->
          <a-entity geometry="primitive: tetrahedron; radius: 0.73"
                    material="color:#C49000; opacity:0.35; transparent:true; wireframe:true">
          </a-entity>
        </a-entity>

        <!-- 「！」（半透明黒）。少し前寄りに配置して見えやすく -->
        <a-text value="!" position="-0.08 0.60 0.14" rotation="-90 0 0"
                color="#000" width="1.5"
                material="opacity:0.55; transparent:true">
        </a-text>

        <!-- 台座の影（薄い円）任意 -->
        <a-circle position="0 0.02 0" radius="0.65"
                  material="color:#333; opacity:0.22; transparent:true"></a-circle>

        <a-text value="Warning" position="-0.85 0.05 0" rotation="-90 0 0" color="#FFF"></a-text>
      </a-entity>
    </a-marker>

    <!-- カメラ -->
    <a-entity camera></a-entity>
  </a-scene>

  <div class="hint">
    ・矢印は Z 軸に垂直（XY平面）／X と Z に 0.15m オフセット。<br/>
    ・キューブ A/B/C は重ならない配置で、それぞれラベル表示。<br/>
    ・警告は黄色半透明＋枠＋内部に半透明黒「！」で厚みのある三角形。
  </div>
</body>
</html>
