
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AR.js Multi Markers (Local JS)</title>

  <!-- ローカル参照（ファイル名は環境に合わせて変更可） -->
  <script src="./vendor/aframe-v1.7.1.min.js"></script>
  <script src="./vendor/aframe-ar.js"></script>



  <style>
    html,body { margin:0; padding:0; height:100%; overflow:hidden; }
    .hint { position:fixed; left:8px; bottom:8px; background:#0008; color:#fff;
            padding:8px 10px; border-radius:6px; font-size:14px; }
  </style>
</head>
<body>
  <a-scene
    embedded
    arjs="sourceType: webcam; debugUIEnabled: false;"
    vr-mode-ui="enabled: false"
    renderer="logarithmicDepthBuffer: true"
  >
    <!-- ライティング（見やすさ用） -->
    <a-entity light="type: ambient; color: #BBB"></a-entity>
    <a-entity light="type: directional; intensity: 0.9" position="1 2 1"></a-entity>

    <!-- =========================
         1) arrow.patt ：矢印
         ・Z軸に垂直（XY平面に寝かせる）
         ・Z方向 +0.15m（約15cm）
         ・X方向 +0.15m（約15cm）
       ========================= -->
    <a-marker type="pattern" url="./assets/arrow.patt">
      <!-- まとめてオフセット：x=0.15, y=0, z=0.15 -->
      <a-entity position="0.15 0 0.15">
        <!-- 矢印の軸は本来Y方向。Z軸に垂直にする＝XY平面に倒す。ここでは +X 方向へ向ける例 -->
        <!-- Z回りに90度回転で、矢印の軸(Y) を +X に寝かせる -->
        <a-entity rotation="0 0 90">
          <!-- シャフト（円柱） -->
          <a-cylinder position="0 0.35 0" radius="0.08" height="0.7" color="#1E90FF"></a-cylinder>
          <!-- ヘッド（円錐） -->
          <a-cone position="0 0.9 0" radius-bottom="0.18" height="0.36" color="#1E90FF"></a-cone>
        </a-entity>
        <a-text value="Arrow" position="-0.6 0.05 0" rotation="-90 0 0" color="#FFF"></a-text>
      </a-entity>
    </a-marker>

    <!-- =========================
         2) cube.patt ：半透明キューブを3つ（色・サイズ違い）
         ・ラベル A / B / C を表示
         ・配置は見やすいように少しずつずらす
       ========================= -->
    <a-marker type="pattern" url="./assets/cube.patt">
      <!-- ベース位置を少し前＆右に（同じく x=0.15, z=0.15） -->
      <a-entity position="0.15 0 0.15">
        <!-- Cube A（大） -->
        <a-box position="-0.6 0.5 0" depth="1.0" height="1.0" width="1.0"
               material="color:#00CC88; opacity:0.50; transparent:true; roughness:0.8"></a-box>
        <a-text value="A" position="-0.6 1.1 0" rotation="-90 0 0" color="#FFF" width="1.5"></a-text>

        <!-- Cube B（中） -->
        <a-box position="0 0.4 0.3" depth="0.8" height="0.8" width="0.8"
               material="color:#3366FF; opacity:0.45; transparent:true; roughness:0.8"></a-box>
        <a-text value="B" position="0 0.9 0.3" rotation="-90 0 0" color="#FFF" width="1.5"></a-text>

        <!-- Cube C（小） -->
        <a-box position="0.6 0.3 -0.2" depth="0.6" height="0.6" width="0.6"
               material="color:#FF6633; opacity:0.40; transparent:true; roughness:0.8"></a-box>
        <a-text value="C" position="0.6 0.7 -0.2" rotation="-90 0 0" color="#FFF" width="1.5"></a-text>
      </a-entity>
    </a-marker>

    <!-- =========================
         3) warning.patt ：警告（三角形＋「！」）
         ・厚みのある黄色い半透明の三角形（立体）
         ・半透明の黒「！」を内部に配置
       ========================= -->
    <a-marker type="pattern" url="./assets/warning.patt">
      <!-- ベース位置：x=0.15, z=0.15 -->
      <a-entity position="0.15 0 0.15">
        <!-- 三角の立体は tetrahedron（四面体）で表現。少し縦長にして標識っぽく -->
        <a-entity position="0 0.55 0" scale="1 1.2 0.6">
          <a-entity geometry="primitive: tetrahedron; radius: 0.7"
                    material="color:#FFCC00; opacity:0.55; transparent:true; roughness:0.9; metalness:0.05">
          </a-entity>
        </a-entity>

        <!-- 「！」は前面方向に少し寄せて、半透明黒で -->
        <a-text value="!" position="-0.1 0.6 0.15" rotation="-90 0 0"
                color="#000" width="1.4"
                material="opacity:0.5; transparent:true">
        </a-text>

        <!-- 台座の影（薄い円）任意 -->
        <a-circle position="0 0.02 0" radius="0.6"
                  material="color:#333; opacity:0.25; transparent:true"></a-circle>

        <a-text value="Warning" position="-0.8 0.05 0" rotation="-90 0 0" color="#FFF"></a-text>
      </a-entity>
    </a-marker>

    <!-- カメラ -->
    <a-entity camera></a-entity>
  </a-scene>

  <div class="hint">
    ・矢印は Z 軸に垂直（XY平面）になるように寝かせ、X/Z に 0.15m オフセット。<br/>
    ・CUBE は半透明の色違い 3 個（A/B/C）。<br/>
    ・警告は黄色半透明の三角立体内に、半透明黒の「！」を配置。
  </div>
</body>
</html>
