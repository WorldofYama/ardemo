
<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<title>AR.js Demo</title>

<!-- A-Frame -->
https://aframe.io/releases/1.5.0/aframe.min.js
<!-- AR.js for A-Frame -->
https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js</script>

<style>
  body { margin:0; overflow:hidden; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial; }
  .arjs-loader {
    position: fixed; top:0; left:0; width:100%; height:100%;
    display:flex; align-items:center; justify-content:center;
    background:white; z-index:9999;
  }
  .arjs-loader div { font-size:16px; color:#333; }
</style>
</head>

<body>
<div class="arjs-loader"><div>カメラ初期化中…</div></div>

<a-scene embedded
         vr-mode-ui="enabled: false"
         renderer="logarithmicDepthBuffer: true; colorManagement: true;"
         arjs="sourceType: webcam; debugUIEnabled: false; trackingMethod: best;
               cameraParametersUrl: https://raw.githack.com/AR-js-org/AR.js/master/data/data/camera_para.dat;">

  <!-- 矢印マーカー -->
  <a-marker type="pattern" url="arrow.patt" emitevents="true" smooth="true"
            smooth-count="10" smooth-tolerance="0.01" smooth-threshold="2">
    <a-cylinder position="0 0.10 0" radius="0.03" height="0.30" color="#ff2d2d"></a-cylinder>
    <a-cone position="0 0.35 0" radius-bottom="0.10" radius-top="0" height="0.25" color="#ff2d2d"></a-cone>
  </a-marker>

  <!-- 立方体マーカー -->
  <a-marker type="pattern" url="cube.patt" emitevents="true" smooth="true"
            smooth-count="10" smooth-tolerance="0.01" smooth-threshold="2">
    <a-box color="#1e88e5" position="0 0.20 0" width="0.28" height="0.28" depth="0.28"></a-box>
  </a-marker>

  <!-- 警告マーカー -->
  <a-marker type="pattern" url="warning.patt" emitevents="true" smooth="true"
            smooth-count="10" smooth-tolerance="0.01" smooth-threshold="2">
    <a-sphere color="#ffd54f" position="0 0.20 0" radius="0.14"></a-sphere>
    <a-text value="!" color="#111" position="0 0.36 0" align="center" side="double" scale="2 2 2"></a-text>
  </a-marker>

  <a-entity camera></a-entity>
</a-scene>

<script>
  // ローディング非表示
  document.querySelector('a-scene').addEventListener('loaded', () => {
    document.querySelector('.arjs-loader').style.display = 'none';
  });
</script>
</body>
</html>
